2020.03.10

1. request 객체와 response 객체의 차이점을 기술하세요.

1) request : 웹 브라우저가 웹 서버에 전송한 요청 관련 정보 제공. 
			  기본 url기준으로 서버의 정보를 확인한다.


2) response : 웹 브라우저에 전송하는 응답 정보를 설정한다. 
			    헤더 정보를 입력하고, 리다이렉트로 페이지는 server단에서 이동처리한다.
=======================================================================
2. 요청값을 처리할 때, get 방식과 post 방식이 있다. 
이 방식을 처리할 때 처리코드와 차이점을 기술하세요. 

1) get방식 : 입력한 데이터 값을 URL에 붙여서 전송하는 것. 데이터가 다 보이므로 보안에 취약하다.
	   전송할 수 있는 데이터는 256바이트를 넘을 수 없다. 
	   전송속도는 POST방식보다 빠르다.

2) post방식 : 입력한 데이터를 본문에 포함해서 전송한다. 
	     입력한 데이터가 URL에 보이지 않으므로 GET방식 보다 보안에 우수하다.
	     전송할 데이터의 길이에 제한이 없다.
	     복잡한 형태의 데이터를 전송할 때 유용하다.
=======================================================================	     
3. 회원등록에서 등록된 id일때, 다시 등록하라고 메시지를 처리할 때, request 객체를 이용해서 처리하세요.
id : [          ]  [등록여부확인]

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%request.setCharacterEncoding("utf-8");
String path = request.getContextPath();%>     
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<%
String id= request.getParameter("id");
boolean hasMemember=false;
if(id!=null){
	if(id.equals("himan")){
		hasMemember=true;
		id="";
	}
}else{
	id="";
}
%>
<script type="text/javascript">
	var hasMemember = <%=hasMemember%>;
	var id = "<%=id%>";
	if( hasMemember ){
		alert("등록된 아이디가 있음\n다시 등록하세요!");
	}else{
		if(id!=""){
			alert("등록 가능한 아이디 입니다!");
		}
	}
</script>
<body>
<!-- 
3. 회원등록에서 등록된 id일때, 다시 등록 하라고 메시지를 처리
할 때, request 객체를 이용해서 처리하세요. 
 id:[     ][등록여부확인]
 -->
<form method="post">
id:<input type='text' name="id" value="<%=id%>"/>
<input type="submit" value="등록여부확인"/>
</form>
</body>
</html>

=======================================================================
4. 공통의 서버의 절대경로를 설정하여, 이미지와 lib을 위치를 접근하려고 한다. 
해당 request 하위 메서드를 기술하고, 기본 위치를 기술하세요. 

request.getContextPath();
String path = request.getContextPath();
프로젝트명 > WebContent 기준으로 설정할 수 있다.
특정 위치를 설정.
=======================================================================
5. 웹 화면에 현재 접속한 client의 ip를 list로 출력하려고 한다. 
해당 프로그램을 처리하세요. 

<%-- jspexp.z01_vo.IpList --%>

package jspexp.z01_vo;
// jspexp.z01_vo.IpList
import java.util.ArrayList;

public class IpList {
	private static ArrayList<String> 
		list = new ArrayList<String>();
	
	public void add(String prod) {
		list.add(prod);
	}
	public ArrayList<String> getList(){
		return list;
	}
}



<%@page import="jspexp.z01_vo.IpList"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"
    import="java.util.ArrayList,jspexp.z01_vo.*"
    %>
<%request.setCharacterEncoding("utf-8");
String path = request.getContextPath();%>     
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<%--
5. 웹 화면에 현재 접속한 client의 ip를 list로 출력할려고 한다.
해당 프로그램을 처리하세요.

http://211.238.140.48:5080/jspexp/z01_exp/a0310_ip.jsp
 --%>
<%
String inputIp = request.getRemoteAddr();
// static 변수를 이용해서 ArrayList 처리..
// 서버의 고정 변수 처리..
IpList li = new IpList();
li.add(inputIp);
%>
<h1>접속 ip 내역</h1>
<%
for(String ip:li.getList()){
%>
<h2><%=ip %></h2>
<%
}
%>

</body>
</html>



========================================================================
6. 장바구니에 list한 물건 중에,check한 목록만 최종 결제 하려고 한다. 요청 객체를 이용하여 처리하세요.
	장바구니
	[] 물건명
	[] 사과
	[] 바나나
	[] 딸기
	[최종결제목록] ==> 클릭시
	결제목록
	###
	###
	
	
	
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" import="java.util.ArrayList,jspexp.z01_vo.*" %>    
      
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<%-- 
6. 장바구니에 list한 물건 중에,check한 목록만 최종 결제 하려고 한다. 요청 객체를 이용하여 처리하세요.
	장바구니
	[] 물건명
	[] 사과
	[] 바나나
	[] 딸기
	[최종결제목록] ==> 클릭시
	결제목록
	###
	###	
--%>
<%
ArrayList<String> clist = new ArrayList<String>();
clist.add("사과");
clist.add("바나나");
clist.add("딸기");
%>
<h2>장바구니</h2>
<form method="post" action="0310_cart2.jsp">
<input type="checkbox" /> 물건명<br>
-----------------<br>
<input type="checkbox" name="ckProd" value="사과"/>사과<br>
<input type="checkbox" name="ckProd" value="바나나"/>바나나<br>
<input type="checkbox" name="ckProd" value="딸기"/>딸기<br>
<input type="checkbox" name="ckProd" value="오렌지"/>오렌지<br>
<input type="checkbox" name="ckProd" value="수박"/>수박<br>
<input type="submit" value="최종결제목록">
</form>

</body>
</html>	
	
	
<%-- 0310_cart2.jsp --%>	

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"
    import="java.util.ArrayList,jspexp.z01_vo.*"
%>    
<%request.setCharacterEncoding("utf-8");
String path = request.getContextPath(); %>  
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<%
String list[]=request.getParameterValues("ckProd");


%>
<body>
<h2>최종 결제 목록</h2>
<%for(String prod:list){ %>
<h3><%=prod%></h3>
<%} %>

</body>
</html>
========================================================================	
7. 성년/미성년자에 따라서, 이동되는 페이지가 다르게 처리하려고 한다. 
response 객체를 이용하여 처리하세요. 
	()성년    ()미성년   [페이지이동]
	
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"
    import="java.util.ArrayList,jspexp.z01_vo.*"
%>    
<%request.setCharacterEncoding("utf-8");
String path = request.getContextPath(); %>  
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<%--7. 성년/미성년자에 따라서, 이동되는 페이지가 다르게 처리하려고 한다. 
response 객체를 이용하여 처리하세요. 
	()성년    ()미성년   [페이지이동] --%>
	
<%
String ckAdult = request.getParameter("ckAdult");
if(ckAdult!=null){
	if(ckAdult.equals("Y")) response.sendRedirect("0310_ckPage01.jsp");
	if(ckAdult.equals("N")) response.sendRedirect("0310_ckPage02.jsp");
}
%>	

<form>
	<input type="radio" name="ckAdult" value="Y"/> 성년
	<input type="radio" name="ckAdult" value="N"/> 미성년
	<input type="submit" value="페이지이동" />


</form>
</body>
</html>	
	
<%-- 0310_ckPage01.jsp --%>	
	
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"
    import="java.util.ArrayList,jspexp.z01_vo.*"
    %>
<%request.setCharacterEncoding("utf-8");
String path = request.getContextPath();%>     
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h2>성년 페이지 입니다!!</h2>
</body>
</html>

<%-- 0310_ckPage02.jsp --%>	

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"
    import="java.util.ArrayList,jspexp.z01_vo.*"
    %>
<%request.setCharacterEncoding("utf-8");
String path = request.getContextPath();%>     
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h2>미성년 페이지 입니다!!</h2>
</body>
</html>
	
	
		